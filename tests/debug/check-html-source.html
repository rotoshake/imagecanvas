<!DOCTYPE html>
<html>
<head>
    <title>Check HTML Source</title>
</head>
<body>
    <h1>Checking index.html source...</h1>
    <pre id="result"></pre>
    
    <script>
        fetch('/index.html')
            .then(response => response.text())
            .then(html => {
                const result = document.getElementById('result');
                
                // Check for new architecture scripts
                const scripts = [
                    'NetworkLayer.js',
                    'OperationPipeline.js',
                    'CollaborativeArchitecture.js',
                    'MigrationAdapter.js',
                    'CanvasIntegration.js',
                    'AutoInit.js',
                    'Command.js',
                    'NodeCommands.js'
                ];
                
                result.textContent = 'Checking for new architecture scripts in index.html:\n\n';
                
                scripts.forEach(script => {
                    const found = html.includes(script);
                    result.textContent += `${script}: ${found ? '✅ Found' : '❌ Not found'}\n`;
                    
                    if (found) {
                        // Find the exact line
                        const lines = html.split('\n');
                        const lineNum = lines.findIndex(line => line.includes(script));
                        if (lineNum >= 0) {
                            result.textContent += `  Line ${lineNum + 1}: ${lines[lineNum].trim()}\n`;
                        }
                    }
                });
                
                // Also show the script section
                const scriptSection = html.match(/<!-- New Collaborative Architecture -->[\s\S]*?<!-- UI Components -->/);
                if (scriptSection) {
                    result.textContent += '\n\nNew Architecture Section:\n' + scriptSection[0];
                } else {
                    result.textContent += '\n\n❌ New Architecture section not found!';
                }
            })
            .catch(error => {
                document.getElementById('result').textContent = 'Error: ' + error.message;
            });
    </script>
</body>
</html>